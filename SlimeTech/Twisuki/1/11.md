# #11 前置与准备

---

绿萌需要一些mod, 大部分就是生电玩法常见的mod, 例如Carpet, Tweakeroo, Litematica. 但是, 你还需要一定的指令能力, 包括直接进行指令的运用和命令方块的运用. 此外, 我们还需要进行结构方块的学习. 

本教程中不对World Edit做要求( ~~因为本人也不会~~ ), 所以我们需要对指令熟练.

## 1.1.1 原版指令

### a) 方块交互指令

#### /setblock

setblock指令基础语法为 `setblock <pos> <block>` , 可以在 `<pos>` 位置放置一个方块, 其中 `<pos>` 为一组 `<x> <y> <z>` 坐标.

绿萌中机器都在天上开始设计, 因此一般在 `~ ~ ~` 位置放一个方块, 作为开始搭建的起点.

如此输入

``` Keys
/set<tab> <tab> <tab> <tab> <tab> 
```

你会放置一个金合欢木的按钮, 再另外放置个方块就可以开始搭建了.

#### /fill

fill指令的基础语法为 `/fill <from> <to> <block>` , 在以 `<from>` , `<to>` 这两个对角之间立方体内填充指定方块, 其中 `<from>` , `<to>` 各为一组 `<x> <y> <z>` 坐标.

该指令非常常用, 如清除大量方块, 为盾构机 世吞等创建场地 挖世吞沟等.

如此操作

``` Keys
<看向起点方块>
/fill <tab> <tab> <tab> <Enter>
```

你将得到如下提示

``` Log
Unknown or incomplete command, see below for error
...<x> <y> <z> <-- [Here]
```

接下来

``` Keys
<看向终点方块>
/<up> <tab> <tab> <tab> ...
```

由此可以在两个位置填充指定方块

当然第二个位置也经常为 `~ ~ ~` , 一般用于测试或清除用.        

### b) 结构交互指令

#### /fill高级运用

fill指令在 `block` 后面可以再加几个参数, 完整fill指令语法为

`/fill <from> <to> <block> [replace|keep|outline|hollow|destroy]`

我们将逐个进行讲解

1. `destroy` 参数

	添加该参数后, fill指令破坏方块, 方块会掉落.

2. `hollow` 参数

	添加该参数后, fill指令只会填充外层, 内部清空, 形成一个空壳.

	该指令可以直接生成一个小房子, 便于测试写其他东西, 对于绿萌来说用处可能不大.

3. `keep` 参数

	添加该参数后, 填充会保留原有方块, 仅填充空气方块.

4. `outline` 参数

	与 `hollow` 参数类似, 但是内部不会清空.

5. `replace` 参数

	个人认为该参数为fill指令里的最强参数, 语法如下
	
	`/fill <from> <to> <block> replace <block0>`
	
	该指令可以检测范围内的 `<block0>` , 仅替换掉指定方块.
	
	该指令给了设计者选择方块的能力, 如设计结束后把所有陶瓦换到同一个方向, 将各色玻璃换为同一种玻璃...
	
	操作如下
	
	``` MCCommand
	/fill ... ... minecraft:white_stained_glass replace #c:glass_blocks
	```
	
	搭配类选择器, 将范围内所有玻璃均替换为常用的白色玻璃

除这些参数外, 这里我们将学习一下方块的标签选择

例如, 我们fill一堆半砖, 即使是使用上述 `replace` 参数进行选择, 填充的任然是下半砖, 那么对于上半砖(一般用于附着红石粉, 中继器等), 将引起严重的问题

所以我们要学会如何选择方块的属性

打开F3, 右下角区域为 `Targeted Block` 区, 展示准星所 选中方块的属性. 以平滑石半砖为例, 你将看到如下信息

``` Info
Targeted Block: ..., ..., ...
minecraft:smooth_stone_slab
type: bottom
waterlogged: false
#minecraft:mineable/pixkaxe
#minecraft:slabs
```

这些信息从上到下分别是方块坐标, 方块名称, 属性(对于展示的方块, 有 `type` 和 `waterlogged` 两种属性), 所属类(对于平滑石半砖, 有可挖掘/工具类型和半砖类两种)

上述属性就是我们可以选择的标准, 下面展示如何替换所有平滑石上半砖为平滑石英上半砖

``` MCCommand
/fill ... ... minecraft:smooth_quartz_slab[type=top] replace minecraft:smooth_stone_slab[type=top]
```

中间 `<block>` 和结尾 `<block0>` 都指明了 `[type=top]` , 意为 "半砖类型 = 上"

稍后我们会讲解如何方便的查看方块的属性, 选择正确的类型(详见 1.1.5 ).

#### /clone

clone基础语法有两种, 也可以添加参数, `/help` 中写的不太清晰, 下面仅介绍一个比较简单且常用的

`/clone <begin> <end> <destination>` , 其中 `<begin>` , `<end>` , `<destination>` 各为一组 `<x>` , `<y>` , `<z>` 坐标.

该指令可以将在以 `<begin>` , `<end>` 这两个对角之间立方体中的方块复制到 `<destination>` 位置, 其中对应关系为 `<begin>` 位置对应 `<destination>` 位置.

注意: 改指令进行复制会产生更新, 需使用Carpet内功能关闭更新(详见 1.1.2 a) ). 

### c)其他

#### /effect

effect指令基础语法为 `/effect give <targets> <effect> <seconds>` 和 `/effect clear [<target>]` , 前者用于给予效果, 后者用于清除效果.

设计中, 可能需要给予自己夜视效果(虽然Gamma可直接调整).

1. 效果给予

	语法为 `/effect give <target> <effect> <second> <amplifier> <hideParticles>` , 其中 `<target>` 为作用对象, 例如 `@a` ; `<second>` 为持续时间; `<amplifier>` 为放大强度; `<hideParticles>` 为一个 `bool` 类型值, 指是否隐藏粒子效果.

	较高版本中, `<second>` 可直接填入 `infinite` 表示无限时长; 低版本可以填入一堆9直至呈红色(超出范围)

	`<amplifier>` 对于某些指令并不适用, 譬如夜视, 没有强弱之分.

	`<hideParticles>` 填入 `true` 防止粒子干扰视线

	夜视操作如下

	``` MCCommand
	/effect give @a minecraft:night_vision infinite 1 true
	```

2. 效果清除

	语法为 `effect clear <targets> <effect>` , 其中 `<target>` 和 `<effect>` 均可选. 若留空, 意为自己和所有效果.

#### /enchant

enchant指令基础语法为 `/enchant <targets> <enchantment> [<level>]` , 可以给 `<target>` 选定玩家主手所拿物品进行附魔.

该指令貌似对绿萌一点用没有... 但如果你的机器上刷了个怪或者... ~~好吧确实没啥用~~ 你可以给自己个力量效果, 再附一把锋利5的合金剑快速清除掉 ~~那为什么不直接kill~~

~~不管了~~ , 获得锋利V合金剑操作如下

``` Keys
<物品栏里找把合金剑拿在主手>
<关闭物品栏>
/enchant @a minecraft:sharpness 5
```

## 1.1.2 Carpet指令

1. Carpet命令面板
2. 假人指令
3. tick指令

## 1.1.3 结构方块

1. 获取
2. 存储与加载

## 1.1.4 Litematica

## 1.1.5 Tweakeroo


